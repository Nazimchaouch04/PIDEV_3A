{{ form_start(form, {'attr': {'class': 'form-styled'}}) }}
    <div style="display: flex; flex-direction: column; gap: 32px;">
        
        {# Section: Informations de base #}
        <div style="background: linear-gradient(135deg, #f8fafc, #e2e8f0); padding: 32px; border-radius: 20px; border: 1px solid #cbd5e1; position: relative; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
            <div style="position: absolute; top: 0; right: 0; width: 80px; height: 80px; background: linear-gradient(45deg, #3b82f6, #60a5fa); opacity: 0.08; border-radius: 0 0 0 100%;"></div>
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 28px; position: relative; z-index: 1;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #3b82f6, #60a5fa); border-radius: 16px; display: flex; align-items: center; justify-content: center; box-shadow: 0 6px 12px rgba(59, 130, 246, 0.25);">
                    <svg viewBox="0 0 24 24" fill="none" stroke="white" style="width: 24px; height: 24px;">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <div>
                    <h4 style="margin: 0; color: #1e40af; font-size: 1.5rem; font-weight: 700;">Informations de base</h4>
                    <p style="color: #64748b; font-size: 0.875rem; margin: 4px 0 0 0;">Nom et valeur calorique</p>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; position: relative; z-index: 1;">
                <div style="display: flex; flex-direction: column;">
                    <label style="font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.875rem;">Nom de l'aliment</label>
                    <div style="position: relative;">
                        {{ form_widget(form.nomAliment, {'attr': {'style': 'width: 100%; padding: 16px 20px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);'}}) }}
                        <div style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); width: 24px; height: 24px; background: #f3f4f6; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#9ca3af" style="width: 16px; height: 16px;">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column;">
                    <label style="font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.875rem;">Calories</label>
                    <div style="position: relative;">
                        {{ form_widget(form.calories, {'attr': {'style': 'width: 100%; padding: 16px 20px 16px 52px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);'}}) }}
                        <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; background: #fef3c7; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#f59e0b" style="width: 16px; height: 16px;">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                        </div>
                        <div style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.875rem; color: #9ca3af; font-weight: 500;">kcal</div>
                    </div>
                </div>
            </div>
        </div>

        {# Section: Informations nutritionnelles #}
        <div style="background: linear-gradient(135deg, #f0fdf4, #dcfce7); padding: 32px; border-radius: 20px; border: 1px solid #bbf7d0; position: relative; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
            <div style="position: absolute; top: 0; right: 0; width: 80px; height: 80px; background: linear-gradient(45deg, #22c55e, #34d399); opacity: 0.08; border-radius: 0 0 0 100%;"></div>
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 28px; position: relative; z-index: 1;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #22c55e, #34d399); border-radius: 16px; display: flex; align-items: center; justify-content: center; box-shadow: 0 6px 12px rgba(34, 197, 94, 0.25);">
                    <svg viewBox="0 0 24 24" fill="none" stroke="white" style="width: 24px; height: 24px;">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                </div>
                <div>
                    <h4 style="margin: 0; color: #15803d; font-size: 1.5rem; font-weight: 700;">Macronutriments</h4>
                    <p style="color: #64748b; font-size: 0.875rem; margin: 4px 0 0 0;">Protéines, glucides et lipides</p>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 24px; position: relative; z-index: 1;">
                <div style="display: flex; flex-direction: column;">
                    <label style="font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.875rem;">Protéines</label>
                    <div style="position: relative;">
                        {{ form_widget(form.proteines, {'attr': {'style': 'width: 100%; padding: 16px 20px 16px 52px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);'}}) }}
                        <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; background: #dbeafe; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" style="width: 16px; height: 16px;">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                            </svg>
                        </div>
                        <div style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.875rem; color: #9ca3af; font-weight: 500;">g</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column;">
                    <label style="font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.875rem;">Glucides</label>
                    <div style="position: relative;">
                        {{ form_widget(form.glucides, {'attr': {'style': 'width: 100%; padding: 16px 20px 16px 52px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);'}}) }}
                        <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; background: #dcfce7; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#22c55e" style="width: 16px; height: 16px;">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                                <path d="M2 12l10 5 10-5"/>
                            </svg>
                        </div>
                        <div style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.875rem; color: #9ca3af; font-weight: 500;">g</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column;">
                    <label style="font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.875rem;">Lipides</label>
                    <div style="position: relative;">
                        {{ form_widget(form.lipides, {'attr': {'style': 'width: 100%; padding: 16px 20px 16px 52px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; transition: all 0.3s ease; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);'}}) }}
                        <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 28px; height: 28px; background: #fed7aa; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#f97316" style="width: 16px; height: 16px;">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <div style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.875rem; color: #9ca3af; font-weight: 500;">g</div>
                    </div>
                </div>
            </div>
        </div>

        {# Section: Actions #}
        <div style="display: flex; gap: 20px; justify-content: center; padding: 32px; background: linear-gradient(135deg, #f8fafc, #e2e8f0); border-radius: 20px; border: 1px solid #cbd5e1; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
            <button type="submit" class="btn btn-primary" style="flex: 1; max-width: 320px; padding: 18px 36px; font-size: 1.125rem; font-weight: 700; background: linear-gradient(135deg, #3b82f6, #60a5fa); border: none; border-radius: 16px; color: white; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 16px; box-shadow: 0 8px 16px rgba(59, 130, 246, 0.2);">
                <svg viewBox="0 0 24 24" fill="none" stroke="white" style="width: 24px; height: 24px;">
                    <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
                    <polyline points="17 21 17 13 7 13 7 21"/>
                    <polyline points="7 3 7 8 15 8"/>
                </svg>
                {{ button_label|default('Enregistrer l\'aliment') }}
            </button>
            <a href="{{ path('app_aliment_index') }}" class="btn btn-ghost" style="padding: 18px 36px; font-size: 1.125rem; font-weight: 600; border: 2px solid #e5e7eb; border-radius: 16px; color: #6b7280; text-decoration: none; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 16px; background: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width: 24px; height: 24px;">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
                Annuler
            </a>
        </div>
    </div>

    <style>
        .form-control:focus, select:focus, input:focus {
            outline: none;
            border-color: #3b82f6 !important;
            background: white !important;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1) !important;
            transform: translateY(-1px);
        }
        
        .form-control:hover, select:hover, input:hover {
            border-color: #60a5fa !important;
            transform: translateY(-1px);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 16px 32px rgba(59, 130, 246, 0.3) !important;
        }
        
        .btn-ghost:hover {
            background: #f8fafc !important;
            border-color: #d1d5db !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1) !important;
        }
    </style>
{{ form_end(form) }}